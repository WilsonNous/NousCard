{% extends "base.html" %}

{% block title %}VisÃ£o Detalhada - NousCard{% endblock %}

{% block content %}
<section class="nc-section">
    <div class="nc-section-header">
        <div>
            <h2 class="nc-title">ğŸ“… VisÃ£o Detalhada â€” Linha por Linha</h2>
            <p class="nc-subtitle">Resumo diÃ¡rio por adquirente, liquidaÃ§Ã£o e status.</p>
        </div>
        <div class="nc-header-actions">
            <button type="button" id="btn-refresh" class="nc-btn-icon" aria-label="Atualizar dados">ğŸ”„</button>
            <small class="nc-last-update">Ãšltima atualizaÃ§Ã£o: <time id="lastUpdateTime"></time></small>
        </div>
    </div>
    
    <div class="nc-table-controls">
        <div class="nc-filters">
            <label for="filtro-data">
                <span class="nc-sr-only">Filtrar por data</span>
                <input type="date" id="filtro-data" aria-label="Filtrar por data">
            </label>
            <label for="filtro-status">
                <span class="nc-sr-only">Filtrar por status</span>
                <select id="filtro-status" aria-label="Filtrar por status">
                    <option value="">Todos os status</option>
                    <option value="conciliado">Conciliado</option>
                    <option value="pendente">Pendente</option>
                    <option value="parcial">Parcial</option>
                </select>
            </label>
        </div>
        
        <div class="nc-table-actions">
            <button type="button" id="btn-export-csv" class="nc-btn nc-btn-secondary">ğŸ“¥ Exportar CSV</button>
        </div>
    </div>
    
    <div id="detalhadoContainer" role="status" aria-live="polite" aria-busy="true" aria-label="Carregando dados de detalhamento">
        <div class="nc-loading">
            <span class="spinner" aria-hidden="true"></span>
            <span>Carregando dados...</span>
        </div>
    </div>
    
    <div class="nc-pagination" role="navigation" aria-label="PaginaÃ§Ã£o da tabela" style="display:none;" id="paginationContainer">
        <button type="button" id="btn-prev" aria-label="PÃ¡gina anterior" disabled>â† Anterior</button>
        <span class="nc-page-info" id="pageInfo">PÃ¡gina 1 de 1</span>
        <button type="button" id="btn-next" aria-label="PrÃ³xima pÃ¡gina">PrÃ³xima â†’</button>
    </div>
</section>

<script src="{{ url_for('static', filename='js/detalhado.js') }}" defer></script>
{% endblock %}
