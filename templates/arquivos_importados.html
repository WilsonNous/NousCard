{% extends "base.html" %}

{% block title %}Arquivos Importados - NousCard{% endblock %}

{% block content %}
<section class="nc-section">
    <h2>üìÇ Arquivos Importados</h2>
    
    {% if arquivos and arquivos.arquivos %}
        <table class="nc-table">
            <thead>
                <tr>
                    <th scope="col">Arquivo</th>
                    <th scope="col">Tipo</th>
                    <th scope="col">Registros</th>
                    <th scope="col">Valor Total</th>
                    <th scope="col">Data</th>
                    <th scope="col">A√ß√µes</th>
                </tr>
            </thead>
            <tbody>
                {% for arquivo in arquivos.arquivos %}
                <tr>
                    <td>{{ arquivo.nome_arquivo }}</td>
                    <td>{{ arquivo.tipo | title }}</td>
                    <td>{{ arquivo.total_registros }}</td>
                    <td>R$ {{ arquivo.total_valor }}</td>
                    <td>{{ arquivo.created_at }}</td>
                    <td>
                        <a href="{{ url_for('operacoes.arquivo_detalhe_page', arquivo_id=arquivo.id) }}" class="nc-btn nc-btn-sm">
                            üëÅÔ∏è Ver
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        
        {% if arquivos.pages > 1 %}
        <nav class="nc-pagination">
            {% if arquivos.page > 1 %}
            <a href="?page={{ arquivos.page - 1 }}" class="nc-btn nc-btn-sm">‚Üê Anterior</a>
            {% endif %}
            <span>P√°gina {{ arquivos.page }} de {{ arquivos.pages }}</span>
            {% if arquivos.page < arquivos.pages %}
            <a href="?page={{ arquivos.page + 1 }}" class="nc-btn nc-btn-sm">Pr√≥xima ‚Üí</a>
            {% endif %}
        </nav>
        {% endif %}
    {% else %}
        <div class="nc-empty-state">
            <span aria-hidden="true">üì≠</span>
            <h3>Nenhum arquivo importado</h3>
            <p>Comece importando seus arquivos de vendas e recebimentos.</p>
            <a href="{{ url_for('operacoes.importar_page') }}" class="nc-btn nc-btn-primary">‚¨ÜÔ∏è Importar Arquivos</a>
        </div>
    {% endif %}
</section>
{% endblock %}
